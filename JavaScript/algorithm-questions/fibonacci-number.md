# [Fibonacci number](https://en.wikipedia.org/wiki/Fibonacci_number)

[The Fibonacci numbers are generated by setting **_F(0)=0, F(1)=1_**, and then using the recursive formula **_F(n)=F(n-1) + F(n-2)_** to get the rest.](https://www.math.hmc.edu/funfacts/ffiles/10002.4-5.shtml)

Make a function returns Nth fibonacci number when it receives a number which is bigger than 1.

```javascript
function fibonacci(n){
  let current, prev = 1, prevPrev= 0;
  if( n<2 ) n;
  for( let i = 2; i<=n; i++ ){
    current = prev + prevPrev; // 1 + 0;
    prevPrev = prev; // 1;
    prev = current; // 1;
  }
  return current; // 1
}

fibonacci(100);
```
- Using recursive

``` javascript
function fibonacci(n){
  if( n<2 ) return n;
  return fibonacci(n-1) + fibonacci (n-2);  
}
fibonacci(20000) // This will crash the web browser.
```
When you use a recursive function and want to care about performance at the same time, the recursive function should be called the last in the function. 
It's called 'tail call optimization(TCO)'

- Applied 'tail call optimization'.   
Following approach uses least amount of call stacks among other recursive ways here.

```javascript
function fibonacci( n, sum=0, prev=1 ){
	if( n<1 ) return sum;
  return fibonacci( n-1, prev+sum, sum );
}
fibonacci(20000) // Infinity. Works on Safari and Firefox. 
```

- Using recursive and memoization

```javascript
function fibonacci(num, memo) {
  if( num < 2 ) return num;
    memo = memo || {};
  if (memo[num]) return memo[num];

  return memo[num] = fibonacci(num - 1, memo) + fibonacci(num - 2, memo);
}
```

---

References

- [ES6 Tail Call Optimization Explained](http://benignbemine.github.io/2015/07/19/es6-tail-calls/)
- [Scenic City Summit 2016: Jeremy Fairbank - Functional Programming Basics in ES6 (JavaScript)](https://youtu.be/HvMemAgOw6I)
- [Playing with ES6: Tail Call Optimization](https://hackernoon.com/es6-tail-call-optimization-43f545d2f68b#.qi8kw0fx2)
- [ECMAScript 6 Proper Tail Calls in WebKit](https://webkit.org/blog/6240/ecmascript-6-proper-tail-calls-in-webkit/)